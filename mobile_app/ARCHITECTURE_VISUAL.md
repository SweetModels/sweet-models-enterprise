# ğŸ“Š Arquitectura Visual - Advanced Flutter Screens

## ğŸ—ï¸ Estructura del Proyecto

```
mobile_app/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ main.dart                           [ACTUALIZADO]
â”‚   â”œâ”€â”€ login_screen.dart
â”‚   â”œâ”€â”€ dashboard_screen.dart
â”‚   â”œâ”€â”€ register_screen.dart
â”‚   â”œâ”€â”€ register_model_screen.dart
â”‚   â”œâ”€â”€ register_model_screen_advanced.dart [NUEVO] â­
â”‚   â”œâ”€â”€ groups_screen.dart
â”‚   â”œâ”€â”€ financial_planning_screen.dart
â”‚   â”œâ”€â”€ profile_screen.dart
â”‚   â”œâ”€â”€ camera_monitor_screen.dart
â”‚   â”œâ”€â”€ otp_verification_screen.dart        [NUEVO] âœ¨
â”‚   â”œâ”€â”€ identity_camera_screen.dart         [NUEVO] ğŸ“¸
â”‚   â”œâ”€â”€ cctv_grid_screen.dart              [NUEVO] ğŸ“¹
â”‚   â””â”€â”€ api_service.dart
â”‚
â”œâ”€â”€ pubspec.yaml                            [ACTUALIZADO]
â”‚
â”œâ”€â”€ ADVANCED_SCREENS_GUIDE.md               [NUEVO]
â”œâ”€â”€ INSTALLATION_TESTING_GUIDE.md           [NUEVO]
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md               [NUEVO]
â”œâ”€â”€ QUICK_REFERENCE.md                      [NUEVO]
â”œâ”€â”€ FLUTTER_INTEGRATION_GUIDE.md            [EXISTENTE]
â””â”€â”€ ARCHITECTURE_VISUAL.md                  [ESTE ARCHIVO]
```

---

## ğŸ¯ Flujo de NavegaciÃ³n Completo

```
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   Sweet Models App      â”‚
                            â”‚      Main.dart          â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                        â”‚                        â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
         â”‚  /login     â”‚         â”‚ /register   â”‚         â”‚ /dashboard  â”‚
         â”‚ LoginScreen â”‚         â”‚ RegScreen   â”‚         â”‚ Dashboard   â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                â”‚                       â”‚                       â”‚
                â”‚                   [NUEVO FLUJO]               â”‚
                â”‚                       â”‚                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                        â”‚                       â”‚                 â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ /register    â”‚      â”‚/register_model  â”‚    â”‚ /financial    â”‚    â”‚ /cameras â”‚
    â”‚RegisterScreenâ”‚      â”‚RegisterAdvanced â”‚    â”‚ PlanningScreenâ”‚    â”‚ CameraM. â”‚
    â”‚              â”‚      â”‚  [PASO 1]       â”‚    â”‚               â”‚    â”‚ (OLD)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  PASO 1: Datos BÃ¡sicos     â”‚
                     â”œâ”€ Email, Nombre, TelÃ©fono  â”‚
                     â”œâ”€ Validaciones             â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  PASO 2: OTP Verificationâ”‚
                     â”œâ”€ Send OTP                 â”‚
                     â”œâ”€ ğŸ¯ OTP_VERIFICATION_    â”‚
                     â”‚    SCREEN (NUEVO)         â”‚
                     â”œâ”€ Countdown 30s            â”‚
                     â”œâ”€ Auto-verify en 6 dÃ­gitosâ”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  PASO 3: Captura KYC      â”‚
                     â”œâ”€ 4 documentos:            â”‚
                     â”‚  â€¢ DNI Frente             â”‚
                     â”‚  â€¢ DNI Dorso              â”‚
                     â”‚  â€¢ Selfie                 â”‚
                     â”‚  â€¢ Comprobante            â”‚
                     â”œâ”€ ğŸ¯ IDENTITY_CAMERA_    â”‚
                     â”‚    SCREEN (NUEVO)         â”‚
                     â”œâ”€ Overlay guÃ­a             â”‚
                     â”œâ”€ Upload automÃ¡tico        â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  PASO 4: Resumen Final    â”‚
                     â”œâ”€ Revisar todos datos      â”‚
                     â”œâ”€ Confirmar tÃ©rminos       â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  âœ… Completar Registro    â”‚
                     â”œâ”€ Crear usuario en BD      â”‚
                     â”œâ”€ Email/Password           â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  ğŸ”„ Redirect a Login      â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ADICIONALMENTE (desde Dashboard para Admin):
    
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  /cctv_grid (NUEVO)                   â”‚
         â”‚  ğŸ¯ CCTV_GRID_SCREEN                 â”‚
         â”œâ”€ Grid 2x2 de cÃ¡maras RTSP            â”‚
         â”œâ”€ Badges EN VIVO / Sin SeÃ±al          â”‚
         â”œâ”€ EstadÃ­sticas en tiempo real         â”‚
         â”œâ”€ Fullscreen modal al tap             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Arquitectura de Pantallas

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   OTP VERIFICATION SCREEN                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘  â”‚                    ğŸ“± Logo/Icon                      â”‚    â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                                                                â•‘
â•‘  VerificaciÃ³n de Identidad                                    â•‘
â•‘  Hemos enviado un cÃ³digo a +57 300****567                     â•‘
â•‘                                                                â•‘
â•‘  â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”  â† PinCodeTextField (6 campos)                â•‘
â•‘  â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚                                               â•‘
â•‘  â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜                                               â•‘
â•‘                                                                â•‘
â•‘  â³ Reenviar cÃ³digo en 30 segundos                             â•‘
â•‘                                                                â•‘
â•‘  â„¹ï¸  Los cÃ³digos son vÃ¡lidos por 10 minutos.                 â•‘
â•‘      Ingresa el cÃ³digo de 6 dÃ­gitos que recibiste.            â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘               IDENTITY CAMERA SCREEN                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â•‘
â•‘  â”‚  [ğŸ¥ CAMERA PREVIEW]                              â”‚      â•‘
â•‘  â”‚                                                    â”‚      â•‘
â•‘  â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚      â•‘
â•‘  â”‚          â”‚      [OVERLAY]       â”‚  â† Marco guÃ­a   â”‚      â•‘
â•‘  â”‚          â”‚    esquinas destacadasâ”‚  (rosa #EB1555)â”‚      â•‘
â•‘  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚      â•‘
â•‘  â”‚                                                    â”‚      â•‘
â•‘  â”‚              ğŸŸ¢ EN VIVO                            â”‚      â•‘
â•‘  â”‚                                                    â”‚      â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â•‘
â•‘                                                                â•‘
â•‘              Alinea el documento dentro del marco             â•‘
â•‘                                                                â•‘
â•‘                        [ğŸ“· CAPTURAR]  â† BotÃ³n rojo circular  â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  CCTV GRID SCREEN                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  ğŸ“¹ Monitoreo en Vivo    ğŸ“¹ 4 Activas  ğŸŸ¢ EN VIVO             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â•‘
â•‘  â”‚ ğŸ¥ Studio1   â”‚ â”‚ ğŸ¥ Studio2   â”‚  â† Grid 2x2              â•‘
â•‘  â”‚ ğŸŸ¢ EN VIVO   â”‚ â”‚ ğŸŸ¢ EN VIVO   â”‚                            â•‘
â•‘  â”‚ Studio       â”‚ â”‚ Studio       â”‚                            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â•‘
â•‘                                                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â•‘
â•‘  â”‚ ğŸ¥ VIP Room  â”‚ â”‚ ğŸ¥ Lobby     â”‚                            â•‘
â•‘  â”‚ ğŸŸ¢ EN VIVO   â”‚ â”‚ ğŸŸ¢ EN VIVO   â”‚                            â•‘
â•‘  â”‚ VIP          â”‚ â”‚ Lobby        â”‚                            â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â•‘
â•‘                                                                â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â•‘
â•‘  â”‚  ğŸ“Š EstadÃ­sticas                                 â”‚        â•‘
â•‘  â”‚  ğŸŸ¢ Activas: 4      ğŸ”´ Inactivas: 0             â”‚        â•‘
â•‘  â”‚  ğŸ“ Ubicaciones: 4                              â”‚        â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ”„ State Management

```
RegisterModelScreenAdvanced
    â”‚
    â”œâ”€ _currentStep: int (0-3)
    â”‚   â”œâ”€ 0: Datos bÃ¡sicos
    â”‚   â”œâ”€ 1: OTP
    â”‚   â”œâ”€ 2: KYC
    â”‚   â””â”€ 3: Resumen
    â”‚
    â”œâ”€ _phoneVerified: bool
    â”‚   â””â”€ Actualizado por OtpVerificationScreen
    â”‚
    â”œâ”€ _documentsUploaded: Map<String, bool>
    â”‚   â”œâ”€ national_id_front: bool
    â”‚   â”œâ”€ national_id_back: bool
    â”‚   â”œâ”€ selfie: bool
    â”‚   â””â”€ proof_address: bool
    â”‚
    â”œâ”€ _isLoading: bool
    â”‚   â””â”€ Durante API calls
    â”‚
    â”œâ”€ _errorMessage: String?
    â”‚   â””â”€ Mostrado en SnackBar + UI
    â”‚
    â””â”€ Controllers:
        â”œâ”€ _emailController
        â”œâ”€ _passwordController
        â”œâ”€ _nameController
        â”œâ”€ _phoneController
        â”œâ”€ _bankNameController
        â””â”€ _accountNumberController
```

---

## ğŸ”Œ IntegraciÃ³n de APIs

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Backend               â”‚
â”‚   (http://localhost:3000)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                  â”‚
    â”‚                                                  â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  POST /auth/      â”‚ â”‚  POST /auth/       â”‚ â”‚  POST /upload/   â”‚
â”‚  send-otp         â”‚ â”‚  verify-otp        â”‚ â”‚  kyc             â”‚
â”‚                   â”‚ â”‚                    â”‚ â”‚                  â”‚
â”‚  Request:         â”‚ â”‚  Request:          â”‚ â”‚  Request:        â”‚
â”‚  {phone: "+57"}   â”‚ â”‚  {phone, code}     â”‚ â”‚  multipart/form  â”‚
â”‚                   â”‚ â”‚                    â”‚ â”‚  - user_id       â”‚
â”‚  Response:        â”‚ â”‚  Response:         â”‚ â”‚  - document_type â”‚
â”‚  {success,        â”‚ â”‚  {success,         â”‚ â”‚  - file (binary) â”‚
â”‚   expires}        â”‚ â”‚   phone_verified}  â”‚ â”‚                  â”‚
â”‚                   â”‚ â”‚                    â”‚ â”‚  Response:       â”‚
â”‚  Called by:       â”‚ â”‚  Called by:        â”‚ â”‚  {success,       â”‚
â”‚  - Registro Paso 2â”‚ â”‚  - OTP Screen      â”‚ â”‚   document_id,   â”‚
â”‚  - OTP Screen     â”‚ â”‚  - Registro Paso 3 â”‚ â”‚   file_path}     â”‚
â”‚                   â”‚ â”‚                    â”‚ â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  Called by:      â”‚
                                              â”‚  - Identity      â”‚
                                              â”‚    Camera Screen â”‚
                                              â”‚  - Registro      â”‚
                                              â”‚    Paso 3        â”‚
                                              â”‚                  â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  GET /admin/cameras                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Headers: Authorization: Bearer {JWT}                        â”‚
â”‚  Role required: admin                                        â”‚
â”‚                                                              â”‚
â”‚  Response:                                                   â”‚
â”‚  {                                                           â”‚
â”‚    cameras: [                                                â”‚
â”‚      {id, name, stream_url, platform, is_active},           â”‚
â”‚      ...                                                     â”‚
â”‚    ],                                                        â”‚
â”‚    total_active: 4                                           â”‚
â”‚  }                                                           â”‚
â”‚                                                              â”‚
â”‚  Called by:                                                  â”‚
â”‚  - CctvGridScreen (on init)                                  â”‚
â”‚  - Dashboard (refresh)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Base de Datos - Tablas Relacionadas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     USERS       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID)       â”‚
â”‚ email           â”‚
â”‚ password_hash   â”‚
â”‚ name            â”‚
â”‚ phone_number    â”‚
â”‚ phone_verified* â”‚ â† Actualizado por OTP
â”‚ kyc_status*     â”‚ â† Actualizado por Upload
â”‚ role            â”‚
â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                   â”‚
    â”‚                   â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  OTP_CODES       â”‚ â”‚ KYC_DOCUMENTS    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (UUID)         â”‚ â”‚ id (UUID)        â”‚
â”‚ phone_number      â”‚ â”‚ user_id (FK)     â”‚
â”‚ code              â”‚ â”‚ document_type    â”‚
â”‚ expires_at        â”‚ â”‚ file_path        â”‚
â”‚ used              â”‚ â”‚ file_size        â”‚
â”‚ created_at        â”‚ â”‚ mime_type        â”‚
â”‚                   â”‚ â”‚ status           â”‚
â”‚ INDEX:            â”‚ â”‚ uploaded_at      â”‚
â”‚ - phone_number    â”‚ â”‚ reviewed_at      â”‚
â”‚ - expires_at      â”‚ â”‚ reviewed_by      â”‚
â”‚                   â”‚ â”‚                  â”‚
â”‚ LOGIC:            â”‚ â”‚ UNIQUE:          â”‚
â”‚ - 10 min expire   â”‚ â”‚ (user_id, type)  â”‚
â”‚ - mark used=true  â”‚ â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ INDEX:           â”‚
                      â”‚ - user_id        â”‚
                      â”‚ - status         â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SECURITY_       â”‚
â”‚ CAMERAS         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (INT)        â”‚
â”‚ name            â”‚
â”‚ stream_url      â”‚
â”‚ platform        â”‚
â”‚ is_active       â”‚
â”‚ created_at      â”‚
â”‚ updated_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Componentes Reutilizables

```
AppBar (personalizado en cada screen)
â”œâ”€ TÃ­tulo dinÃ¡mico
â”œâ”€ Icono de retroceso
â””â”€ Acciones contextuales

TextField (personalizado)
â”œâ”€ Estilos corporativos
â”œâ”€ ValidaciÃ³n en tiempo real
â””â”€ Prefijos/Sufijos

Button (ElevatedButton estilizado)
â”œâ”€ Color primario: #EB1555
â”œâ”€ Ancho completo
â””â”€ Estados: normal, loading, disabled

Card (Container personalizado)
â”œâ”€ Bordes redondeados
â”œâ”€ Sombras
â””â”€ Border color dinÃ¡mico

Progress (IndexedStack + TabController)
â”œâ”€ Indicadores de paso
â”œâ”€ Animaciones suaves
â””â”€ NavegaciÃ³n bidireccional
```

---

## âš¡ Flujo de Datos

```
User Input
    â”‚
    â–¼
Widget/Screen
    â”‚
    â”œâ”€ ValidaciÃ³n local âœ“
    â”‚
    â–¼
ApiService
    â”‚
    â”œâ”€ Construir request
    â”œâ”€ Agregar headers (JWT)
    â”œâ”€ HTTP call
    â”‚
    â–¼
Backend (Rust/Axum)
    â”‚
    â”œâ”€ ValidaciÃ³n server-side
    â”œâ”€ Verificar BD
    â”œâ”€ Procesar datos
    â”œâ”€ SQL INSERT/UPDATE
    â”‚
    â–¼
Response JSON
    â”‚
    â”œâ”€ Parse con json_decode
    â”‚
    â–¼
Screen
    â”‚
    â”œâ”€ setState/notifyListeners
    â”œâ”€ Update UI
    â”œâ”€ Show success/error
    â”‚
    â–¼
User sees result
```

---

## ğŸ“ˆ Matriz de Dependencias

```
main.dart
    â”œâ”€ login_screen.dart
    â”œâ”€ dashboard_screen.dart
    â”œâ”€ register_model_screen_advanced.dart â­
    â”‚   â”œâ”€ otp_verification_screen.dart âœ¨
    â”‚   â”œâ”€ identity_camera_screen.dart ğŸ“¸
    â”‚   â””â”€ api_service.dart
    â”œâ”€ cctv_grid_screen.dart ğŸ“¹
    â”‚   â”œâ”€ media_kit (video RTSP)
    â”‚   â””â”€ api_service.dart
    â”œâ”€ groups_screen.dart
    â”œâ”€ financial_planning_screen.dart
    â”œâ”€ profile_screen.dart
    â””â”€ camera_monitor_screen.dart (OLD)
        â””â”€ api_service.dart

api_service.dart (core)
    â”œâ”€ dio (HTTP client)
    â”œâ”€ shared_preferences (storage)
    â””â”€ Backend (http://localhost:3000)
```

---

## ğŸš€ Deployment Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Source Code     â”‚
â”‚  (git repo)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  flutter build windows   â”‚
    â”‚  flutter build apk       â”‚
    â”‚  flutter build ios       â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚         â”‚      â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”
    â”‚ .exe  â”‚ â”‚.apk â”‚ â”‚.ipa â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜
       WIN      AND      iOS

                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  DistribuciÃ³n     â”‚
        â”‚  - Store          â”‚
        â”‚  - Web            â”‚
        â”‚  - Instalador     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… Checklist de ImplementaciÃ³n

```
ARQUITECTURA COMPLETADA:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… OtpVerificationScreen (330 LOC)
âœ… IdentityCameraScreen (380 LOC)
âœ… CctvGridScreen (410 LOC)
âœ… RegisterModelScreenAdvanced (520 LOC)
âœ… main.dart (rutas + media_kit init)
âœ… pubspec.yaml (6 dependencias nuevas)

DOCUMENTACIÃ“N COMPLETADA:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… ADVANCED_SCREENS_GUIDE.md
âœ… INSTALLATION_TESTING_GUIDE.md
âœ… IMPLEMENTATION_SUMMARY.md
âœ… QUICK_REFERENCE.md
âœ… FLUTTER_INTEGRATION_GUIDE.md
âœ… ARCHITECTURE_VISUAL.md (este archivo)

FUNCIONALIDADES:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… OTP con countdown + auto-verify
âœ… Camera con overlay guÃ­a
âœ… CCTV grid 2x2 con RTSP
âœ… Registro en 4 pasos
âœ… Validaciones cliente
âœ… Integraciones API
âœ… Manejo de errores
âœ… Estados de carga
```

---

*Ãšltima actualizaciÃ³n: 4 de Diciembre, 2025*
*VersiÃ³n: 1.0.0*
*Estado: âœ… LISTO PARA PRODUCCIÃ“N*
